<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AntLiteCSS/custom css util Landing Page for E-learning</title>
    <link href="./css/index.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

</head>

<body class="bg-light text-md font-base text-primary">
    <header class="bg-white border-b shadow-sm p-3 fixed z-10">
        <!-- Top Row -->
        <div
            class="flex   justify-start md:justify-between  mx-auto  flex-col md:flex-row  md:items-center  gap-1 md:gap-3 ">

            <!-- Social Icons -->
            <div class=" gap-2 md:order-2 order-1 items-center mx-auto  hidden md:flex">
                <a href="#" class="border rounded-full p-2"><i class="fab fa-cart"></i></a>
                <a href="#" class="border rounded-full p-2"><i class="fab fa-twitter"></i></a>
                <a href="#" class="border rounded-full p-2"><i class="fab fa-instagram"></i></a>
                <a href="#" class="border rounded-full p-2"><i class="fab fa-dribbble"></i></a>
            </div>

            <!-- Logo -->
            <div class="text-center md:order-1 order-2 w-full sm:w-auto">
                <h1 class="text-lg font-bold">UNI<span class="text-warning">CAST</span></h1>
                <p class="text-muted text-sm">E-LEARNING COMPANY</p>
            </div>

            <!-- Search -->
            <div class="md:order-3 order-3 w-full w-auto mr-8">
                <form class="flex  rounded-full overflow-hidden w-full sm:w-auto">
                    <input class="input rounded-none border-0 bg-transparent px-3 w-full" placeholder="Search"
                        id="course-search" />
                    <button type="submit" class="bg-muted text-white px-4"><i class="fas fa-search"></i></button>
                </form>
            </div>
        </div>

        <!-- Mobile Menu Toggle -->
        <div class="md:hidden mt-4">
            <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
                class="text-muted text-md flex items-center gap-2">
                <i class="fas fa-bars"></i> Browse Categories
            </button>
        </div>

        <!-- Nav Menu -->
        <nav class="border-t border-b border-border bg-white py-2 hidden  md:block ">
            <ul class="flex justify-center gap-6 text-sm uppercase">
                <li><a href="#" class="text-primary text-muted font-semibold">Courses</a></li>
                <li><a href="#" class="text-black hover:text-primary">Guide</a></li>
                <li><a href="#" class="text-black hover:text-primary">Coming Soon</a></li>
                <li><a href="#" class="text-black hover:text-primary">Top Seller</a></li>
                <li><a href="#" class="text-black hover:text-primary">Books</a></li>
                <li><a href="#" class="text-black hover:text-primary">Author</a></li>
                <li><a href="#" class="text-black hover:text-primary">Blog</a></li>
                <li><a href="#" class="text-black hover:text-primary">Contact</a></li>
            </ul>
        </nav>


        <!-- Mobile Nav -->
        <nav class="sm:hidden hidden mt-4 bg-black text-white text-sm uppercase" id="mobile-menu">
            <!-- <div class="overlay absolute inset-0" style="background: rgba(255,255,255,0.5)"></div> -->
            <a href="#" class="block py-2 border-b px-3 text-primary">Home</a>
            <a href="#" class="block py-2 border-b px-3">About</a>
            <a href="#" class="block py-2 border-b px-3">Coming Soon</a>
            <a href="#" class="block py-2 border-b px-3">Top Seller</a>
            <a href="#" class="block py-2 border-b px-3">Books</a>
            <a href="#" class="block py-2 border-b px-3">Author</a>
            <a href="#" class="block py-2 border-b px-3">Blog</a>
            <a href="#" class="block py-2 border-b px-3">Contact</a>
        </nav>
    </header>







    <main id="home">

        <!-- Hero Section example-->
        <section class="flex flex-col items-center justify-center text-center py-6 px-4 sm:py-12">
            <h2 class="text-lg sm:text-xl font-bold mb-3">Build Beautiful UIs with Ease</h2>
            <p class="text-muted mb-4 max-w-md">
                A lightweight, Ant Design–inspired utility-first CSS framework tailored for mobile-first design and
                rapid prototyping.
            </p>
            <button class="btn btn-primary">Start Building</button>
        </section>



            <!--lets get concerned about responsive mobile screen for the modules course title and sections-->
        <section class=" px-4 py-4 flex flex-col md:flex-row gap-8">

            <div class="block md:hidden mb-4">
                   <i class="fas fa-bars" onclick="toggleDrawer(true)"></i> View Modules
            </div>
            <div id="modules-drawer" class="fixed inset-0 z-10 bg-black bg-opacity-40 hidden lg:hidden">
                <div class="absolute left-0 top-0 h-full w-11/12 max-w-sm bg-white p-4 overflow-y-auto shadow-xl">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold">Course Modules</h2>
                        <button onclick="toggleDrawer(false)" class="text-xl">&times;</button>
                    </div>
                    <div id="drawer-course-modules" class="space-y-6"></div>
                </div>
            </div>


            <!-- Left: Course Modules -->
            <div class="w-full md:w-33 bg-white p-4 hidden md:block">
                <p class="text-muted mb-6">Master the art of creating stunning user interfaces with real-world projects
                    and interactive walkthroughs.</p>
                <!-- Modules -->
                <div id="course-modules" class="space-y-6">
                    <!-- Modules injected by JS -->
                </div>
            </div>

            <!-- Right: Sidebar -->
            <aside class="w-full sticky top-24 self-start">
                <h1 class="text-2xl  text-black mb-4 pl-4">Advanced UI Design Course</h1>
                <!-- <video id="video-player" controls class="rounded-xl w-full mb-4"
                    poster="https://via.placeholder.com/640x360">
                    <source id="video-src" src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video> -->
                <div id="video-wrapper" class="rounded-xl overflow-hidden w-full aspect-video mb-4">
                    <!-- dynamically  injected here -->
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm">
                    <h3 class="text-xl font-semibold mb-2">₦15,000</h3>
                    <p class="text-sm text-muted mb-4">15 modules • 3 hours</p>
                    <button class="btn btn-primary w-full" onclick="enroll()">Enroll Now</button>
                </div>
            </aside>
        </section>


    </main>




    <footer class="bg-gray-100 text-white pt-12 pb-8 border-t">
        <div class="container mx-auto px-4">

            <!-- Top grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 mb-12">

                <!-- Logo & About -->
                <div>
                    <h2 class="text-xl font-bold mb-4">UNICAST</h2>
                    <p class="text-sm text-muted mb-4 text-lg">
                        Discover, Engage and embrace your next favorite career growth. We connect talents to clients
                        that matter.
                    </p>
                    <div class="flex gap-4 mt-4 text-lg">
                        <a href="#" class="text-muted text-lg hover:text-white"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="text-muted hover:text-white"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <!-- Product Links -->
                <div>
                    <h3 class="text-md font-semibold mb-3 text-xl">Products</h3>
                    <ul class="text-sm space-y-2 text-lg">
                        <li><a href="#" class="text-muted hover:text-white">Books</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Authors</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Genres</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Pre-orders</a></li>
                    </ul>
                </div>

                <!-- Support Links -->
                <div>
                    <h3 class="text-md font-semibold mb-3 text-xl">Support</h3>
                    <ul class="text-sm space-y-2 text-lg">
                        <li><a href="#" class="text-muted hover:text-white">Contact</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Help Center</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Returns</a></li>
                        <li><a href="#" class="text-muted hover:text-white">Shipping</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div>
                    <h3 class="text-md font-semibold mb-3 text-xl">Newsletter</h3>
                    <p class="text-sm text-muted mb-4 text-lg">Get the latest updates and offers.</p>
                    <form class="flex flex-col sm:flex-row gap-2">
                        <input type="email" placeholder="Your email" class="px-3 py-2 rounded-md w-full text-dark" />
                        <button class="btn btn-primary">Subscribe</button>
                    </form>
                </div>

            </div>


        </div>
    </footer>

    <!-- Footer -->
    <footer class="py-6 px-4 bg-light text-center text-muted text-sm border-t">
        © 2025 AntLiteCSS. All rights reserved.
    </footer>

    <script>

        const isEnrolled = localStorage.getItem("is_enrolled") === "true";

        const modules = [
            {
                title: "Section 1: Getting Started",
                collapsed: false,
                children: [
                    {
                        title: "Intro to UI Design",
                        unlocked: true,
                        video: "https://www.youtube.com/watch?v=dQw4w9WgXcQ" // YouTube
                    },
                    {
                        title: "Why Design Matters",
                        unlocked: true,
                        video: "https://vimeo.com/76979871" // Vimeo
                    }
                ]
            },
            {
                title: "Section 2: Layout Fundamentals",
                collapsed: true,
                children: [
                    {
                        title: "Grid Systems Explained",
                        unlocked: isEnrolled,
                        video: "https://www.w3schools.com/html/mov_bbb.mp4" // MP4
                    },
                    {
                        title: "Flexbox Mastery",
                        unlocked: isEnrolled,
                        video: "https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4" // MP4
                    }
                ]
            },
            {
                title: "Section 3: Design Systems",
                collapsed: true,
                children: [
                    {
                        title: "Creating Token Systems",
                        unlocked: isEnrolled,
                        video: "https://www.youtube.com/watch?v=kt3aQ8VvPpI" // YouTube
                    },
                    {
                        title: "Scaling Design Teams",
                        unlocked: isEnrolled,
                        video: "https://vimeo.com/357274789" // Vimeo
                    }
                ]
            }
        ];



        function markWatched(sectionIndex, childIndex) {
            const key = `watched_${sectionIndex}_${childIndex}`;
            localStorage.setItem(key, "true");
        }





        function buildModuleSection(section, sectionIndex) {
            const sectionId = `section-${sectionIndex}`;
               //                 //track percentage watched
                const total = section.children.length;
                const watchedCount = section.children.filter((_, i) =>
                    localStorage.getItem(`watched_${sectionIndex}_${i}`) === "true"
                ).length;

                const percent = Math.floor((watchedCount / total) * 100);
            const childrenHTML = section.children.map((child, childIndex) => {
                const locked = !child.unlocked && !isEnrolled;
                const watched = localStorage.getItem(`watched_${sectionIndex}_${childIndex}`) === "true";
                const watchedBadge = watched ? '<span class="ml-auto text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded">Watched</span>' : '';
                const lockedBadge = locked ? '<span class="ml-auto text-xs px-2 py-0.5 bg-gray-200 rounded">Locked</span>' : '';


             
                return `
      <li class="flex items-center gap-2 text-sm ${locked ? 'text-muted cursor-not-allowed' : 'hover:text-primary cursor-pointer'}"
          onclick="playVideo(${sectionIndex}, ${childIndex})">
        <i class="fa ${locked ? 'fa-lock' : 'fa-play-circle'} text-xs"></i>
        ${child.title}
        ${locked ? lockedBadge : watchedBadge}
      </li>
    `;
            }).join("");

            return `
    <div>
      <button class="flex items-center justify-between w-full mb-2 text-left" onclick="toggleSection(${sectionIndex})">
        <h3 class="text-lg font-bold">${section.title}</h3>
        <i class="fa fa-chevron-${section.collapsed ? 'down' : 'up'} text-xs"></i>
      </button>
       <h4 class="text-xs text-muted mb-1">Progress: ${percent}%</h4>
     <div class="w-full h-1 bg-gray-200 rounded">
           <div class="bg-green-500 h-1 rounded" style="width: ${percent}%;"></div>
         </div>
      <ul class="ml-4 space-y-2 transition-all duration-300 ${section.collapsed ? 'hidden' : ''}" id="${sectionId}">
        ${childrenHTML}
      </ul>
    </div>
  `;
        }



        function renderModules() {
            const container = document.getElementById("course-modules");
            const drawerContainer = document.getElementById("drawer-course-modules");

            if (container) container.innerHTML = "";
            if (drawerContainer) drawerContainer.innerHTML = "";

            modules.forEach((section, sectionIndex) => {
                const html = buildModuleSection(section, sectionIndex);
                if (container) container.innerHTML += html;
                if (drawerContainer) drawerContainer.innerHTML += html;
            });
        }


        //old code
        //         function renderModules() {
        //             const container = document.getElementById("course-modules");
        //             container.innerHTML = "";

        //             modules.forEach((section, sectionIndex) => {
        //                 const sectionId = `section-${sectionIndex}`;
        //                 const secEl = document.createElement("div");

        //                 //track percentage watched
        //                 const total = section.children.length;
        //                 const watchedCount = section.children.filter((_, i) =>
        //                     localStorage.getItem(`watched_${sectionIndex}_${i}`) === "true"
        //                 ).length;

        //                 const percent = Math.floor((watchedCount / total) * 100);


        //                 secEl.innerHTML = `
        //       <button class="flex items-center justify-between w-full mb-2 text-left" onclick="toggleSection(${sectionIndex})">
        //         <h3 class="text-lg font-bold">${section.title}</h3>
        //         <i class="fa fa-chevron-${section.collapsed ? 'down' : 'up'} text-xs"></i>
        //       </button>

        //       <h4 class="text-xs text-muted mb-1">Progress: ${percent}%</h4>
        // <div class="w-full h-1 bg-gray-200 rounded">
        //   <div class="bg-green-500 h-1 rounded" style="width: ${percent}%;"></div>
        // </div>

        //       <ul class="ml-4 space-y-2 transition-all duration-300 ${section.collapsed ? 'hidden' : ''}" id="${sectionId}">
        //         ${section.children.map((child, childIndex) => {
        //                     const locked = !child.unlocked && !isEnrolled;
        //                     //track course watched
        //                     const watched = localStorage.getItem(`watched_${sectionIndex}_${childIndex}`) === "true";
        //                     const watchedBadge = watched ? '<span class="ml-auto text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded">Watched</span>' : '';


        //                     return `
        //             <li class="flex items-center gap-2 mb-2 text-md cursor-pointer ${locked ? 'text-muted cursor-not-allowed' : 'hover:text-primary'}"
        //                 onclick="playVideo(${sectionIndex}, ${childIndex})">
        //               <i class="fa ${locked ? 'fa-lock' : 'fa-play-circle'} text-xs"></i>
        //               ${child.title}
        //               ${locked ? '<span class="ml-auto text-md mb-2 px-2 py-0.5 bg-gray-200 rounded">Locked</span>' : watchedBadge}
        //             </li>
        //           `;
        //                 }).join("")}
        //       </ul>
        //     `;

        //                 container.appendChild(secEl);
        //             });
        //         }

        function toggleSection(index) {
            modules[index].collapsed = !modules[index].collapsed;
            renderModules();
        }


        renderModules();

        function enroll() {
            alert("Enrolled successfully!");
            localStorage.setItem("is_enrolled", "true");
            window.location.reload();
        }




        // function playVideo(sectionIndex, childIndex) {
        //     const child = modules[sectionIndex].children[childIndex];
        //     const locked = !child.unlocked && !isEnrolled;

        //     if (locked) {
        //         alert("This video is locked. Please enroll to access it.");
        //         return;
        //     }

        //     const player = document.getElementById("video-player");
        //     const source = document.getElementById("video-src");

        //     source.src = child.video;
        //     player.load();
        //     player.scrollIntoView({ behavior: "smooth", block: "center" });

        //     // Save last watched
        //     const last = { sectionIndex, childIndex };
        //     localStorage.setItem("last_watched_video", JSON.stringify(last));

        //     markWatched(sectionIndex, childIndex);
        // }

        function playVideo(sectionIndex, childIndex) {
            const child = modules[sectionIndex].children[childIndex];
            const locked = !child.unlocked && !isEnrolled;

            if (locked) {
                alert("This video is locked. Please enroll to access it.");
                return;
            }

            const url = child.video;
            const wrapper = document.getElementById("video-wrapper");

            wrapper.innerHTML = renderVideoByType(url);

            localStorage.setItem("last_watched_video", JSON.stringify({ sectionIndex, childIndex }));
            markWatched(sectionIndex, childIndex);
        }

        function renderVideoByType(url) {
            if (!url) return "<p>No video available</p>";

            if (url.includes("youtube.com") || url.includes("youtu.be")) {
                const videoId = getYouTubeID(url);
                return `
      <iframe
        src="https://www.youtube.com/embed/${videoId}"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        class="w-full h-full"
      ></iframe>
    `;
            }

            if (url.includes("vimeo.com")) {
                const videoId = getVimeoID(url);
                return `
      <iframe
        src="https://player.vimeo.com/video/${videoId}"
        frameborder="0"
        allow="autoplay; fullscreen; picture-in-picture"
        allowfullscreen
        class="w-full h-full"
      ></iframe>
    `;
            }

            if (url.endsWith(".mp4")) {
                return `
      <video controls class="w-full h-full object-cover rounded-xl">
        <source src="${url}" type="video/mp4" />
        Your browser does not support video playback.
      </video>
    `;
            }

            return "<p>Unsupported video format.</p>";
        }


        function getYouTubeID(url) {
            try {
                const urlObj = new URL(url);
                if (urlObj.hostname === "youtu.be") {
                    return urlObj.pathname.slice(1);
                }
                return urlObj.searchParams.get("v");
            } catch {
                return "";
            }
        }

        function getVimeoID(url) {
            const match = url.match(/vimeo\.com\/(\d+)/);
            return match ? match[1] : "";
        }


        //auto play
        document.addEventListener("DOMContentLoaded", () => {
            const last = JSON.parse(localStorage.getItem("last_watched_video"));
            if (last) playVideo(last.sectionIndex, last.childIndex);
        });



        // collapsible state tracker
        function toggleSection(index) {
            modules[index].collapsed = !modules[index].collapsed;
            saveCollapseState();
            renderModules();
        }

        function saveCollapseState() {
            const state = modules.map(m => m.collapsed);
            localStorage.setItem("collapsed_sections", JSON.stringify(state));
        }


        document.addEventListener("DOMContentLoaded", () => {
            const saved = JSON.parse(localStorage.getItem("collapsed_sections"));
            if (Array.isArray(saved)) {
                modules.forEach((m, i) => m.collapsed = saved[i]);
            }

            const last = JSON.parse(localStorage.getItem("last_watched_video"));
            if (last) playVideo(last.sectionIndex, last.childIndex);

            renderModules();
        });



        // toggle smallscreen drawer
        function toggleDrawer(open) {
            const drawer = document.getElementById("modules-drawer");
            drawer.classList.toggle("hidden", !open);
        }

    </script>
</body>

</html>